(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b71400"],{"26d3":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("navbar"),s("br"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-8 col-md-12 col-sm-12 offset-lg-2"},[t._m(0),s("br"),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h6",{staticClass:"settings-title"},[t._v("Alert Status")]),s("hr"),t._m(1),s("div",{staticClass:"switch-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.alertStatus,expression:"alertStatus"}],staticClass:"active",attrs:{type:"radio",id:"radio-one",name:"switch-one"},domProps:{value:!0,checked:1==t.alertStatus,checked:t._q(t.alertStatus,!0)},on:{change:function(e){t.alertStatus=!0}}}),s("label",{attrs:{for:"radio-one"}},[t.isLoading&&1==t.alertStatus?s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("Active")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.alertStatus,expression:"alertStatus"}],staticClass:"inactive",attrs:{type:"radio",id:"radio-two",name:"switch-one"},domProps:{value:!1,checked:0==t.alertStatus,checked:t._q(t.alertStatus,!1)},on:{change:function(e){t.alertStatus=!1}}}),s("label",{attrs:{for:"radio-two"}},[t.isLoading&&0==t.alertStatus?s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):s("span",[t._v("Inactive")])])]),s("hr"),s("h6",{staticClass:"settings-title"},[t._v("Region Selections")]),s("hr"),s("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n                        You will receive tenders through your email for the regions that are selected.\n                    ")]),t._l(t.regions,(function(e,r){return[s("div",{key:r,staticClass:"region-checkbox custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.alertRegions,expression:"alertRegions"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"region"+(r+1)},domProps:{value:e._id,checked:t.checkIfRegionIsAlert(e._id),checked:Array.isArray(t.alertRegions)?t._i(t.alertRegions,e._id)>-1:t.alertRegions},on:{change:function(s){var r=t.alertRegions,a=s.target,i=!!a.checked;if(Array.isArray(r)){var n=e._id,o=t._i(r,n);a.checked?o<0&&(t.alertRegions=r.concat([n])):o>-1&&(t.alertRegions=r.slice(0,o).concat(r.slice(o+1)))}else t.alertRegions=i}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"region"+(r+1)}},[t._v(t._s(e.name.en))])])]})),s("br"),s("button",{staticClass:"btn save-settings-btn col-1 offset-11",attrs:{disabled:!!t.isLoading},on:{click:function(e){return t.setAlertSettings(t.SETTING_TYPE_REGIONS)}}},[t.isLoading?s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t.isLoading?t._e():s("span",[t._v("Save")])]),s("hr"),s("h6",{staticClass:"settings-title"},[t._v("Category Selections")]),s("hr"),s("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n                        You will receive tenders through your email for the categories you have selected.\n                    ")]),s("div",{staticClass:"vue-root"},[s("smart-tree",{attrs:{id:"tree","has-three-states":"","selection-mode":"checkBox"}},[t._l(t.categories,(function(e,r){return[e.isParent?s("smart-tree-items-group",{key:r,attrs:{expanded:t.checkIfCategoryIsAlert(e.children.map((function(t){return t._id})))}},[s("strong",{staticClass:"parent",on:{click:function(s){t.selectCategory(e.children.map((function(t){return t._id})),t.CATEGORY_SELECTION_MULTIPLE)}}},[t._v(t._s(e.name.en))]),t._l(e.children,(function(e,r){return[s("smart-tree-item",{key:r,attrs:{selected:t.checkIfCategoryIsAlert([e._id])},on:{click:function(s){return t.selectCategory([e._id],t.CATEGORY_SELECTION_SINGLE)}}},[t._v(t._s(e.name.en))])]}))],2):t._e(),e.isParent?t._e():s("smart-tree-item",{key:r,attrs:{selected:t.checkIfCategoryIsAlert([e._id])},on:{click:function(s){return t.selectCategory([e._id],t.CATEGORY_SELECTION_SINGLE)}}},[t._v(t._s(e.name.en))])]}))],2)],1),s("br"),s("button",{staticClass:"btn save-settings-btn col-1 offset-11",attrs:{disabled:!!t.isLoading},on:{click:function(e){return t.setAlertSettings(t.SETTING_TYPE_CATEGORIES)}}},[t.isLoading?s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t.isLoading?t._e():s("span",[t._v("Save")])]),s("hr")],2)]),s("br")])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card title-card"},[s("div",{staticClass:"card-body"},[s("h4",[t._v("Settings")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("\n                        Set alert status to "),s("b",[t._v("'Active'")]),t._v(" if you want to receive selected tenders through your email based on the preferences (category and region) you select below.\n                    ")])}],i=(s("8e6e"),s("456d"),s("ac6a"),s("6762"),s("2fdb"),s("ade3")),n=s("9735"),o=s("ede6"),c=s("37b6");s("d101"),s("b00d");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={components:{navbar:n["a"]},data:function(){return{alertStatus:null,alertRegions:[],alertCategories:[],SETTING_TYPE_STATUS:c["A"],SETTING_TYPE_REGIONS:c["z"],SETTING_TYPE_CATEGORIES:c["y"],CATEGORY_SELECTION_SINGLE:c["e"],CATEGORY_SELECTION_MULTIPLE:c["d"]}},watch:{alertStatus:{handler:function(){this.setAlertSettings(c["A"])}},status:{handler:function(t){!0===t?this.$toast.success(c["a"],u({},c["C"])):!1===t&&this.$toast.error(this.errorMessage||c["b"],u({},c["C"]))}}},computed:{account:function(){return this.$store.getters.account.data},categories:function(){return this.$store.getters.category.data},regions:function(){return this.$store.getters.region.data},isLoading:function(){return this.$store.getters.account.isLoading},status:function(){return this.$store.getters.account.status},errorMessage:function(){return this.$store.getters.errorMsg}},methods:{getCategories:function(){this.$store.dispatch(o["s"])},getRegions:function(){this.$store.dispatch(o["w"])},checkIfRegionIsAlert:function(t){return this.account.alertRegions.includes(t)},checkIfCategoryIsAlert:function(t){var e=this;return t.some((function(t){return e.alertCategories.includes(t)}))},setValues:function(){this.alertStatus=this.account.alertStatus,this.alertRegions=this.account.alertRegions,this.alertCategories=this.account.alertCategories},setAlertSettings:function(t){var e={};t===c["A"]?e.alertStatus=this.alertStatus:t===c["z"]?e.alertRegions=this.alertRegions:t===c["y"]&&(e.alertCategories=this.alertCategories),this.$store.dispatch(o["G"],{alertSetting:e})},selectCategory:function(t,e){var s=this;e===c["d"]?t.forEach((function(t){s.alertCategories.includes(t)?s.alertCategories.splice(s.alertCategories.indexOf(t),1):s.alertCategories.push(t)})):e===c["e"]&&(this.alertCategories.includes(t[0])?this.alertCategories.splice(this.alertCategories.indexOf(t[0]),1):this.alertCategories.push(t[0]))}},mounted:function(){this.getCategories(),this.getRegions(),this.setValues()}},g=d,h=(s("7442"),s("2877")),f=Object(h["a"])(g,r,a,!1,null,"3dc8aca2",null);e["default"]=f.exports},7442:function(t,e,s){"use strict";s("9949")},9949:function(t,e,s){}}]);
//# sourceMappingURL=chunk-65b71400.fc0bda17.js.map